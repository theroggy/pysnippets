import matplotlib.pyplot as plt
import shapely
from shapely import plotting as plotter

examples = [
    (
        "POLYGON ((184293.20931495726 191412.37075890973, 184293.23465140502 191412.3245224961, 184293.23465140507 191412.324522496, 184293.20931495726 191412.37075890973))",
        "POLYGON ((184293.23465140502 191412.3245224961, 184297.14 191403.80000000002, 184293.23465140496 191412.32452249623, 184293.23465140502 191412.3245224961))",
    ),
    (
        "Polygon ((185537.86885940807405859 192540.71049361632321961, 185537.86885940856882371 192540.71049361626501195, 185561.19000000000232831 192537.80999999999767169, 185537.86885940807405859 192540.71049361632321961))",
        "Polygon ((185537.868859409034485 192540.71049361620680429, 185537.66598733825958334 192540.7357251928478945, 185537.8688594093255233 192540.71049361617770046, 185537.868859409034485 192540.71049361620680429))",
    ),
]

for i, (wkt1, wkt2) in enumerate(examples):
    print(f"--- Example: {i} ---")
    geom1 = shapely.from_wkt(wkt1)
    print(f"{geom1.is_valid=}")
    geom2 = shapely.from_wkt(wkt2)
    print(f"{geom2.is_valid=}")

    union_geom = geom1.union(geom2)
    print(f"{union_geom=}")  # POLYGON EMPTY

    fig, ax = plt.subplots()
    plotter.plot_polygon(geom1, ax=ax, color="blue")
    plotter.plot_polygon(geom2, ax=ax, color="red")
    plt.show()
