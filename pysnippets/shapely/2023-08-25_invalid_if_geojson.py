from matplotlib import pyplot as plt
from shapely import Polygon
import shapely
import shapely.plotting as plot
from shapely import to_geojson, make_valid

aPolygon=Polygon([ [ 2.239307379133081, 50.37833950216459 ], [ 2.23932288262624, 50.37832091329708 ], [ 2.239323076574488, 50.37834745704141 ], [ 2.239322741111627, 50.37830154561176 ], [ 2.23936695305881, 50.37824213244645 ], [ 2.239345413627982, 50.37827856546105 ], [ 2.239381046651415, 50.37825117380836 ], [ 2.239439891538907, 50.37818061771576 ], [ 2.239364310849121, 50.37813487411446 ], [ 2.23927845625879, 50.37822580401623 ], [ 2.239266556956693, 50.37824200006929 ], [ 2.239259907852623, 50.37825938205488 ], [ 2.239258772207612, 50.3782772617753 ], [ 2.239260294620766, 50.3782861670696 ], [ 2.239267444539276, 50.37830346757686 ], [ 2.239273001098963, 50.37831169112052 ], [ 2.239287802286535, 50.37832687759487 ], [ 2.239296900046265, 50.37833368983314 ], [ 2.239307379133081, 50.37833950216459 ] ])

print(str(to_geojson(aPolygon)) + " is_valid: " +str(aPolygon.is_valid))
aPolygon=make_valid(aPolygon.buffer(0))
print("avec Buffer 0 " + str(to_geojson(aPolygon)) + " is_valid: " +str(aPolygon.is_valid))

print(shapely.from_geojson(to_geojson(aPolygon)).is_valid)
plot.plot_polygon(aPolygon)
plt.show()
